"use strict";(self["webpackChunkwangyiyun"]=self["webpackChunkwangyiyun"]||[]).push([[288],{5117:function(e,t,i){var s=i(6330),r=TypeError;e.exports=function(e,t){if(!delete e[t])throw r("Cannot delete property "+s(t)+" of "+s(e))}},541:function(e,t,i){var s=i(2109),r=i(7908),n=i(6244),a=i(3658),l=i(5117),o=i(7207),c=1!==[].unshift(0),h=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}();s({target:"Array",proto:!0,arity:1,forced:c||h},{unshift:function(e){var t=r(this),i=n(t),s=arguments.length;if(s){o(i+s);var c=i;while(c--){var h=c+s;c in t?t[h]=t[c]:l(t,h)}for(var u=0;u<s;u++)t[u]=arguments[u]}return a(t,i+s)}})},3800:function(e,t,i){i.r(t),i.d(t,{default:function(){return H}});var s=i(6252),r=i(9963),n=i(3577);const a={class:"searchTop"},l=(0,s._)("use",{"xlink:href":"#icon-zuojiantou"},null,-1),o=[l],c={class:"searchHistory"},h=(0,s._)("span",{class:"searchSpan"},"历史",-1),u=["onClick"],d=(0,s._)("use",{"xlink:href":"#icon-shanchu"},null,-1),y=[d],g={class:"itemList"},k=["onClick"],f={class:"leftSpan"},p={class:"itemRight"},w={key:0,class:"icon bofang","aria-hidden":"true"},v=(0,s._)("use",{"xlink:href":"#icon-shipin"},null,-1),L=[v],m=(0,s._)("svg",{class:"icon liebiao","aria-hidden":"true"},[(0,s._)("use",{"xlink:href":"#icon-31liebiao"})],-1);function K(e,t,i,l,d,v){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",a,[((0,s.wg)(),(0,s.iD)("svg",{class:"icon","aria-hidden":"true",onClick:t[0]||(t[0]=t=>e.$router.go(-1))},o)),(0,s.wy)((0,s._)("input",{type:"text",placeholder:"周杰伦",onKeydown:t[1]||(t[1]=(0,r.D2)(((...e)=>v.enterKey&&v.enterKey(...e)),["enter"])),"onUpdate:modelValue":t[2]||(t[2]=e=>d.searchKey=e)},null,544),[[r.nr,d.searchKey]])]),(0,s._)("div",c,[h,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(d.keyWorldList,(e=>((0,s.wg)(),(0,s.iD)("span",{key:e,class:"spanKey",onClick:t=>v.searchHistory(e)},(0,n.zw)(e),9,u)))),128)),((0,s.wg)(),(0,s.iD)("svg",{class:"icon","aria-hidden":"true",onClick:t[3]||(t[3]=(...e)=>v.delHistory&&v.delHistory(...e))},y))]),(0,s._)("div",g,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(d.searchList,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"item",key:t},[(0,s._)("div",{class:"itemLeft",onClick:t=>v.updateIndex(e)},[(0,s._)("span",f,(0,n.zw)(t+1),1),(0,s._)("div",null,[(0,s._)("p",null,(0,n.zw)(e.name),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.artists,((e,t)=>((0,s.wg)(),(0,s.iD)("span",{key:t},(0,n.zw)(e.name),1)))),128))])],8,k),(0,s._)("div",p,[0!=e.mvid?((0,s.wg)(),(0,s.iD)("svg",w,L)):(0,s.kq)("",!0),m])])))),128))])],64)}i(541);var _=i(2884),W={data(){return{keyWorldList:[],searchKey:"",searchList:[]}},mounted(){this.keyWorldList=JSON.parse(localStorage.getItem("keyWorldList"))||[]},methods:{async enterKey(){if(""!=this.searchKey){this.keyWorldList.unshift(this.searchKey),this.keyWorldList=[...new Set(this.keyWorldList)],this.keyWorldList.length>10&&this.keyWorldList.splice(this.keyWorldList.length-1,1);let e=await(0,_.xK)(this.searchKey);this.searchList=e.data.result.songs,localStorage.setItem("keyWorldList",JSON.stringify(this.keyWorldList)),this.searchKey=[]}},delHistory(){localStorage.removeItem("keyWorldList"),this.keyWorldList=[]},async searchHistory(e){let t=await(0,_.xK)(e);console.log(t),this.searchList=t.data.result.songs},updateIndex:function(e){e.al=e.album,e.al.picUrl=e.album.artist.img1v1Url,this.$store.commit("pushPlayList",e),this.$store.commit("updatePlayListIndex",this.$store.state.playList.length-1)}}},x=i(3744);const D=(0,x.Z)(W,[["render",K]]);var H=D}}]);
//# sourceMappingURL=Search.980971d2.js.map